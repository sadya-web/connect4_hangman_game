
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Connect 4 & Hangman</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #111;
      color: #fff;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    h1 {
      margin-top: 20px;
    }

    .game-select {
      margin: 20px;
    }

    .game-container {
      display: none;
      padding: 20px;
    }

    #board {
      display: grid;
      grid-template-columns: repeat(7, 60px);
      grid-template-rows: repeat(6, 60px);
      gap: 5px;
      justify-content: center;
      margin: 0 auto;
    }

    .cell {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-color: #333;
      cursor: pointer;
    }

    .cell.red {
      background-color: red;
    }

    .cell.yellow {
      background-color: yellow;
    }

    #winner {
      font-size: 1.5rem;
      color: #0f0;
      margin: 10px;
    }

    #hangman-word {
      font-size: 2rem;
      letter-spacing: 10px;
      margin: 20px;
    }

    #hangman-letters {
      margin: 10px;
    }

    #hangman-letters span {
      margin: 0 5px;
      cursor: pointer;
      padding: 5px 10px;
      border: 1px solid #555;
      display: inline-block;
    }

    #hangman-status {
      margin: 10px;
    }

    #hangman-canvas {
      background: #fff;
      margin: 20px auto;
      display: block;
    }

    input[type="password"] {
      font-size: 24px;
      text-align: center;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

  <h1>Choose a Game</h1>
  <div class="game-select">
    <button onclick="showGame('connect4')">Play Connect 4</button>
    <button onclick="showGame('hangman')">Play Hangman</button>
  </div>

  <div id="connect4" class="game-container">
    <h1>Connect 4</h1>
    <div id="winner"></div>
    <div id="board"></div>
  </div>

  <div id="hangman" class="game-container">
    <h1>Hangman</h1>
    <div id="setup">
      <input type="password" id="wordInput" maxlength="20" placeholder="Enter word" />
      <button onclick="startHangman()">Submit Word</button>
    </div>
    <div id="hangman-word"></div>
    <div id="hangman-letters"></div>
    <div id="hangman-status"></div>
    <canvas id="hangman-canvas" width="200" height="250"></canvas>
  </div>

  <script>
    function showGame(game) {
      document.querySelectorAll('.game-container').forEach(div => div.style.display = 'none');
      document.getElementById(game).style.display = 'block';
    }

    const board = document.getElementById("board");
    const winnerDisplay = document.getElementById("winner");
    const rows = 6, cols = 7;
    const cells = [];
    let currentPlayer = "red", gameOver = false;

    for (let r = 0; r < rows; r++) {
      cells[r] = [];
      for (let c = 0; c < cols; c++) {
        const cell = document.createElement("div");
        cell.classList.add("cell");
        cell.dataset.row = r;
        cell.dataset.col = c;
        board.appendChild(cell);
        cells[r][c] = cell;
      }
    }

    board.addEventListener("click", (e) => {
      if (gameOver || !e.target.classList.contains("cell")) return;
      const col = +e.target.dataset.col;
      for (let r = rows - 1; r >= 0; r--) {
        const cell = cells[r][col];
        if (!cell.classList.contains("red") && !cell.classList.contains("yellow")) {
          cell.classList.add(currentPlayer);
          if (checkWin(r, col, currentPlayer)) {
            winnerDisplay.textContent = `${capitalize(currentPlayer)} wins!`;
            gameOver = true;
          } else {
            currentPlayer = currentPlayer === "red" ? "yellow" : "red";
          }
          break;
        }
      }
    });

    function capitalize(str) {
      return str.charAt(0).toUpperCase() + str.slice(1);
    }

    function checkWin(row, col, player) {
      return (
        countInDirection(row, col, 0, 1, player) + countInDirection(row, col, 0, -1, player) > 2 ||
        countInDirection(row, col, 1, 0, player) + countInDirection(row, col, -1, 0, player) > 2 ||
        countInDirection(row, col, 1, 1, player) + countInDirection(row, col, -1, -1, player) > 2 ||
        countInDirection(row, col, 1, -1, player) + countInDirection(row, col, -1, 1, player) > 2
      );
    }

    function countInDirection(row, col, rowDir, colDir, player) {
      let count = 0;
      for (let i = 1; i < 4; i++) {
        const r = row + rowDir * i;
        const c = col + colDir * i;
        if (r < 0 || r >= rows || c < 0 || c >= cols) break;
        if (!cells[r][c].classList.contains(player)) break;
        count++;
      }
      return count;
    }

    const canvas = document.getElementById("hangman-canvas");
    const ctx = canvas.getContext("2d");
    let hangmanWord = "", guessed = [], wrongGuesses = 0;
    const maxWrong = 6;

    function startHangman() {
      hangmanWord = document.getElementById("wordInput").value.toLowerCase();
      guessed = [];
      wrongGuesses = 0;
      drawHangman();
      updateHangmanDisplay();
      document.getElementById("setup").style.display = "none";
    }

    function updateHangmanDisplay() {
      const displayWord = hangmanWord.split('').map(l => guessed.includes(l) ? l : '_').join(' ');
      document.getElementById("hangman-word").textContent = displayWord;
      document.getElementById("hangman-letters").innerHTML = '';
      for (let i = 97; i <= 122; i++) {
        const letter = String.fromCharCode(i);
        const span = document.createElement("span");
        span.textContent = letter;
        if (guessed.includes(letter)) {
          span.style.opacity = "0.3";
        } else {
          span.onclick = () => guessLetter(letter);
        }
        document.getElementById("hangman-letters").appendChild(span);
      }
    }

    function guessLetter(letter) {
      if (guessed.includes(letter)) return;
      guessed.push(letter);
      if (!hangmanWord.includes(letter)) {
        wrongGuesses++;
        drawHangman();
      }
      updateHangmanDisplay();
      if (wrongGuesses >= maxWrong) {
        document.getElementById("hangman-status").textContent = "You lost! Word was: " + hangmanWord;
      } else if (hangmanWord.split('').every(l => guessed.includes(l))) {
        document.getElementById("hangman-status").textContent = "You won!";
      }
    }

    function drawHangman() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.strokeStyle = "#000";
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(10, 240); ctx.lineTo(190, 240);
      ctx.moveTo(50, 240); ctx.lineTo(50, 20);
      ctx.lineTo(140, 20);
      ctx.lineTo(140, 40);
      ctx.stroke();

      if (wrongGuesses > 0) { ctx.beginPath(); ctx.arc(140, 60, 20, 0, Math.PI * 2); ctx.stroke(); }
      if (wrongGuesses > 1) { ctx.beginPath(); ctx.moveTo(140, 80); ctx.lineTo(140, 140); ctx.stroke(); }
      if (wrongGuesses > 2) { ctx.beginPath(); ctx.moveTo(140, 100); ctx.lineTo(110, 120); ctx.stroke(); }
      if (wrongGuesses > 3) { ctx.beginPath(); ctx.moveTo(140, 100); ctx.lineTo(170, 120); ctx.stroke(); }
      if (wrongGuesses > 4) { ctx.beginPath(); ctx.moveTo(140, 140); ctx.lineTo(110, 180); ctx.stroke(); }
      if (wrongGuesses > 5) { ctx.beginPath(); ctx.moveTo(140, 140); ctx.lineTo(170, 180); ctx.stroke(); }
    }
  </script>

</body>
</html>
